<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>꿈이룸 외화적금 | Turbulent Scroll</title>
  <meta name="viewport" content="width=1200">
  <style>
    html,body {margin:0; padding:0; width:100vw; min-height:100vh; background:#211a43;}
    body {font-family:'Montserrat','Noto Sans KR',sans-serif; color:#fff; overflow-x:hidden;}
    #bg-canvas {
      position:fixed; top:0; left:0; width:100vw; height:100vh; z-index:0;
      filter: blur(2.7px) brightness(1.13) contrast(1.09);
      pointer-events:none;
      background:linear-gradient(110deg,#2f2662 40%,#f9b6e0 100%);
      transition:background 1.6s;
    }
    .main {
      position:relative; z-index:2; width:100vw;
      display:flex; flex-direction:column; align-items:center;
      scroll-snap-type: y mandatory;
    }
    .section {
      min-height:100vh; width:100vw; display:flex;
      align-items:center; justify-content:center;
      scroll-snap-align:start; position:relative;
    }
    .glass-card {
      background:rgba(255,255,255,0.13);
      border-radius:40px; box-shadow:0 10px 55px #8367f349, 0 1.5px 5px #fff8;
      padding:70px 54px 74px 88px; backdrop-filter:blur(21px) saturate(1.19);
      font-size:2.4rem; font-weight:600;
      max-width:950px; width:90vw; text-align:left; color:#fffbe7;
      opacity:0.09; transform:scale(0.97);
      transition:all 1s cubic-bezier(.72,.2,.18,1);
      box-sizing:border-box;
      display:flex; flex-direction:column; gap:20px 0;
      border:1.7px solid #fff2;
    }
    .section.active .glass-card {
      opacity:1; transform:scale(1.03);
      box-shadow:0 22px 52px #a389f266, 0 2px 12px #fff9;
    }
    .card-title {
      font-size:2.3rem; color:#b393fd; font-weight:800;
      letter-spacing:-1.2px; margin-bottom:14px;
      text-shadow:0 5px 22px #7e51c899, 0 1px 2px #fff8;
    }
    .card-desc {
      font-size:1.15rem; color:#fffde9; opacity:0.98;
      line-height:1.66; text-shadow:0 1px 10px #a389f244;
    }
    /* 아코디언 */
    .accordion-section {
      background: #fff; color: #23234a;
      max-width: 750px; margin: 80px auto 160px auto;
      border-radius: 32px; box-shadow: 0 6px 38px #32227216;
      padding: 38px 24px; font-size:1.08rem;
    }
    .accordion-item { border-bottom: 1px solid #ece5f7;}
    .accordion-title {
      cursor:pointer; padding:19px 0; font-size:1.18rem; font-weight:800; position:relative;
    }
    .accordion-title:after {
      content:'+'; position:absolute; right:20px; top:17px;
      font-size:1.3rem; color:#a389f2; transition:0.22s;
    }
    .accordion-item.active .accordion-title:after {
      content:'–'; color:#e54235;
    }
    .accordion-content {
      max-height:0; overflow:hidden;
      transition:max-height 0.6s cubic-bezier(.6,0,.19,1);
      color:#3a3651; background:#f7f6ff;
      padding:0 0; border-radius:0 0 22px 22px;
    }
    .accordion-item.active .accordion-content {
      max-height:700px; padding:12px 0 18px 0;
    }
    @media (max-width:900px){
      .glass-card{padding:32px 5vw;}
      .accordion-section{padding:16px 2vw;}
    }
    @media (max-width:700px){
      .glass-card{padding:18px 5vw; font-size:1.1rem;}
      .section{min-height:80vh;}
      .card-title{font-size:1.1rem;}
    }
  </style>
</head>
<body>
  <!-- Three.js blob, turbulent 스타일 배경 -->
  <canvas id="bg-canvas"></canvas>
  <div class="main">
    <div class="section" id="sec1">
      <div class="glass-card">
        <div class="card-title">자동이체 적립</div>
        <div class="card-desc">
          <span style="color:#e54235;font-weight:bold;">원화/외화 중 선택</span>으로 자동 저축!<br>
          부산은행 원화계좌 자동이체 시 <b style="color:#a389f2;">환율 70% 우대</b>
        </div>
      </div>
    </div>
    <div class="section" id="sec2">
      <div class="glass-card">
        <div class="card-title">우대금리 혜택</div>
        <div class="card-desc">
          꿈이룸 신규·재예치, 자동이체 등록 등<br>
          <b style="color:#ffac4b;">최대 0.3% 우대금리</b> 제공
        </div>
      </div>
    </div>
    <div class="section" id="sec3">
      <div class="glass-card">
        <div class="card-title">가입 조건</div>
        <div class="card-desc">
          <b style="color:#7ca6ff;">18세 이하, 실명 개인, 1인 1계좌</b><br>
          미국달러(USD)로 1불 이상, 최대 1만불까지!
        </div>
      </div>
    </div>
    <div class="section" id="sec4">
      <div class="glass-card">
        <div class="card-title">만기·해지</div>
        <div class="card-desc">
          1년 단위 자동 재예치<br>
          <b style="color:#c24bff;">만기 후 이율/중도해지 이율 차등</b><br>
          (특별/중도해지 시 우대금리 제외)
        </div>
      </div>
    </div>
    <!-- 마지막 아코디언 -->
    <div class="accordion-section">
      <div class="accordion-item">
        <div class="accordion-title">예금자보호 안내</div>
        <div class="accordion-content">
          이 예금은 예금자보호법에 따라 1인당 <b>5천만원</b>까지 보호됩니다.<br>
          (본 은행 여타 보호상품과 합산)
        </div>
      </div>
      <div class="accordion-item">
        <div class="accordion-title">수수료 우대</div>
        <div class="accordion-content">
          외화 현찰 출금·해외송금 시 <b>수수료 감면/우대</b>가 제공됩니다.<br>
          (자세한 우대 조건은 상세 상품설명서 참고)
        </div>
      </div>
      <div class="accordion-item">
        <div class="accordion-title">유의사항/주의점</div>
        <div class="accordion-content">
          <ul style="margin:0 0 0 20px;">
            <li>환율 변동에 따라 원화 환산 시 손실 또는 이익이 발생할 수 있음</li>
            <li>압류/사고/피해거래 계좌 등은 거래 제한</li>
            <li>비과세종합저축 가입 불가</li>
          </ul>
        </div>
      </div>
      <div class="accordion-item">
        <div class="accordion-title">기타 정보</div>
        <div class="accordion-content">
          <b>문의</b> : 부산은행 고객센터(1544-6200/1588-6200), 또는 가까운 영업점<br>
          약관/상품설명서 필수 확인!
        </div>
      </div>
    </div>
  </div>
  <!-- Three.js 라이브러리 -->
  <script src="https://cdn.jsdelivr.net/npm/three@0.156.1/build/three.min.js"></script>
  <script>
    // 섹션 FadeIn(스크롤)
    const secs = document.querySelectorAll('.section');
    function activateSections() {
      secs.forEach(sec => {
        const rect = sec.getBoundingClientRect();
        if(rect.top < window.innerHeight*0.55 && rect.bottom > window.innerHeight*0.30){
          sec.classList.add('active');
        } else {
          sec.classList.remove('active');
        }
      });
    }
    window.addEventListener('scroll', activateSections);
    window.addEventListener('DOMContentLoaded', activateSections);

    // 아코디언
    document.querySelectorAll('.accordion-title').forEach(title => {
      title.addEventListener('click', function(){
        const item = this.parentElement;
        item.classList.toggle('active');
      });
    });

    // Three.js로 blob(물방울/빛 효과) 배경 + 스크롤에 따라 변화
    let renderer, scene, camera, mesh, light;
    let bgColors = [
      [0x2f2662,0xf9b6e0], // 첫번째
      [0xbce7ff,0xe8a3ef],
      [0xfed5a7,0xb493e6],
      [0xd9f3fe,0xa7baff]
    ];
    function lerp(a,b,t){return a+(b-a)*t;}
    function hexToRgbArr(hex){
      return [(hex>>16)&255,(hex>>8)&255,hex&255];
    }
    function rgbArrToCss(rgb){
      return `rgb(${rgb[0]},${rgb[1]},${rgb[2]})`;
    }
    function updateBgColorByScroll() {
      // 섹션별 배경색 부드럽게 전환
      let y = window.scrollY;
      let h = window.innerHeight;
      let idx = Math.floor(y/h);
      let t = (y%h)/h;
      let from = bgColors[Math.min(idx,bgColors.length-1)];
      let to = bgColors[Math.min(idx+1,bgColors.length-1)];
      let c1 = [Math.round(lerp(hexToRgbArr(from[0])[0], hexToRgbArr(to[0])[0], t)),
                Math.round(lerp(hexToRgbArr(from[0])[1], hexToRgbArr(to[0])[1], t)),
                Math.round(lerp(hexToRgbArr(from[0])[2], hexToRgbArr(to[0])[2], t))];
      let c2 = [Math.round(lerp(hexToRgbArr(from[1])[0], hexToRgbArr(to[1])[0], t)),
                Math.round(lerp(hexToRgbArr(from[1])[1], hexToRgbArr(to[1])[1], t)),
                Math.round(lerp(hexToRgbArr(from[1])[2], hexToRgbArr(to[1])[2], t))];
      document.getElementById("bg-canvas").style.background =
        `linear-gradient(110deg,${rgbArrToCss(c1)} 40%,${rgbArrToCss(c2)} 100%)`;
    }
    window.addEventListener('scroll', updateBgColorByScroll);

    function initThree() {
      const canvas = document.getElementById('bg-canvas');
      renderer = new THREE.WebGLRenderer({canvas, antialias:true, alpha:true});
      renderer.setClearColor(0x000000, 0);
      renderer.setSize(window.innerWidth, window.innerHeight, false);
      scene = new THREE.Scene();
      camera = new THREE.PerspectiveCamera(72, window.innerWidth/window.innerHeight, 0.1, 100);
      camera.position.z = 2.25;

      const geometry = new THREE.IcosahedronGeometry(1, 7);
      const material = new THREE.MeshPhysicalMaterial({
        color: 0xa389f2,
        roughness: 0.38,
        metalness: 0.85,
        transmission: 0.92,
        thickness: 1.36,
        clearcoat: 1,
        clearcoatRoughness: 0.12,
        ior: 1.16,
        transparent: true,
        opacity: 0.93
      });
      mesh = new THREE.Mesh(geometry, material);
      scene.add(mesh);

      light = new THREE.PointLight(0xfff0eb, 1.15, 10);
      light.position.set(3,2,3);
      scene.add(light);
      const amb = new THREE.AmbientLight(0xffffff, 0.64); scene.add(amb);
    }
    function animateThree() {
      // 섹션 위치에 따라 blob(공) 움직임, 크기, 색상 변화
      let y = window.scrollY, h = window.innerHeight;
      let idx = Math.floor(y/h);
      let t = (y%h)/h;
      // x/y/z/scale 변화를 섹션별 부드럽게 지정
      let posList = [
        {x:0,y:0,sz:1.15,cl:0xa389f2},
        {x:-0.4,y:0.22,sz:1.2,cl:0xfeb49c},
        {x:0.34,y:-0.28,sz:1.19,cl:0x93d8fd},
        {x:0.06,y:0.18,sz:1.11,cl:0xb393fd}
      ];
      let p0 = posList[Math.min(idx,posList.length-1)];
      let p1 = posList[Math.min(idx+1,posList.length-1)];
      mesh.position.x = lerp(p0.x,p1.x,t);
      mesh.position.y = lerp(p0.y,p1.y,t);
      mesh.scale.setScalar(lerp(p0.sz,p1.sz,t));
      mesh.material.color.setHex(lerp(p0.cl,p1.cl,t));
      mesh.rotation.x += 0.0035;
      mesh.rotation.y += 0.0022;
      renderer.setSize(window.innerWidth, window.innerHeight, false);
      renderer.render(scene, camera);
      requestAnimationFrame(animateThree);
    }
    window.addEventListener('DOMContentLoaded', ()=>{
      initThree(); animateThree(); updateBgColorByScroll();
      window.addEventListener('resize', ()=>{
        camera.aspect = window.innerWidth/window.innerHeight;
        camera.updateProjectionMatrix();
        renderer.setSize(window.innerWidth, window.innerHeight, false);
      });
    });
  </script>
</body>
</html>
