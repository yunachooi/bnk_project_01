<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>BNK 외환 페이지</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Spoqa Han Sans Neo', sans-serif;
    }

    body {
      background: #fff;
    }

    .container {
      width: 1000px;
      margin: 0 auto;
    }

    header {
      border-bottom: 2px solid #d32f2f;
      background: #fff;
    }

    .top-bar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 16px 0;
    }

    .logo {
      font-size: 1.4rem;
      font-weight: bold;
      color: #d32f2f;
      display: flex;
      align-items: center;
    }

    .logo span {
      margin-left: 6px;
      color: #333;
      font-size: 1.2rem;
    }

    .top-menu {
      display: flex;
      align-items: center;
      gap: 16px;
      font-size: 0.95rem;
      color: #666;
    }

    .top-menu a {
      color: #333;
    }

    .menu-buttons {
      display: flex;
      gap: 10px;
    }

    .menu-buttons button {
      padding: 6px 12px;
      border: 1px solid #ccc;
      background: white;
      border-radius: 6px;
      cursor: pointer;
      font-size: 0.95rem;
    }

    .menu-buttons button:hover {
      background: #f5f5f5;
      border-color: #999;
    }

    .main-menu {
      display: flex;
      justify-content: flex-start;
      gap: 24px;
      font-size: 1rem;
      font-weight: 500;
      white-space: nowrap;
      overflow-x: hidden;
      padding: 12px 60px;
    }

    .main-menu a {
      text-decoration: none;
      color: #000;
    }

    .main-menu a:hover {
      color: #d32f2f;
    }

    .main-menu a.active {
      color: #d32f2f;
      font-weight: bold;
    }

    .breadcrumb-wrap {
      padding: 18px 60px;
    }

    .breadcrumb {
      display: flex;
      align-items: center;
      gap: 10px;
      font-size: 15px;
      font-weight: 500;
      flex-wrap: wrap;
    }

    .breadcrumb span, .breadcrumb a {
      color: #555;
    }

    .breadcrumb .fixed-label {
      font-size: 16px;
      font-weight: 600;
      color: #000;
    }

    .dropdown {
      position: relative;
      display: inline-block;
      cursor: pointer;
    }

    .arrow {
      margin-left: 4px;
      font-size: 12px;
    }

    .dropdown-menu {
      display: none;
      position: absolute;
      background: #fff;
      border-radius: 12px;
      border: 1px solid rgba(0,0,0,0.1);
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
      padding: 10px 0;
      margin-top: 8px;
      z-index: 999;
      min-width: 160px;
      animation: fadeIn 0.25s ease-in-out;
    }

    .dropdown-menu a {
      display: block;
      padding: 10px 20px;
      font-size: 0.95rem;
      color: #333;
      text-decoration: none;
      transition: background-color 0.2s ease;
      cursor: pointer;
    }

    .dropdown-menu a:hover {
      background-color: #fbe9e7;
      color: #d32f2f;
      font-weight: 600;
      border-left: 4px solid #d32f2f;
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(-5px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .final {
      color: #d32f2f !important;
      font-weight: bold;
    }
  </style>
</head>
<body>
<div class="container">
  <header>
    <div class="top-bar">
      <div class="logo">
        <span style="color:#d32f2f;">BNK</span><span>부산은행</span>
      </div>
      <div class="top-menu">
        <a href="#">로그인</a>
        <span>|</span>
        <a href="#">인증센터</a>
        <span>|</span>
        <a href="#">Global ▼</a>
        <div class="menu-buttons">
          <button>🔍 검색하기</button>
          <button>☰ 전체메뉴</button>
        </div>
      </div>
    </div>
    <nav class="main-menu">
      <a href="#">추천상품</a>
      <a href="#">예금</a>
      <a href="#">골드바</a>
      <a href="#">신탁</a>
      <a href="#">웰스타로보B</a>
      <a href="#">펀드</a>
      <a href="#">대출</a>
      <a href="#">카드</a>
      <a href="#">보험/공제</a>
      <a href="#" class="active">외환</a>
      <a href="#">퇴직연금</a>
      <a href="#">서민금융</a>
      <a href="#">국민주택채권</a>
    </nav>
  </header>

  <div class="breadcrumb-wrap">
    <div class="breadcrumb">
      <span class="fixed-label">외환</span>
      <span>›</span>
      <div class="dropdown" onclick="toggleMenu('menu1')">
        <span id="step1-label">외화예금</span><span class="arrow">▼</span>
        <div class="dropdown-menu" id="menu1"></div>
      </div>
      <span>›</span>
      <div class="dropdown" onclick="toggleMenu('menu2')">
        <span id="step2-label">예금</span><span class="arrow">▼</span>
        <div class="dropdown-menu" id="menu2"></div>
      </div>
      <span>›</span>
      <div class="dropdown" onclick="toggleMenu('menu3')">
        <span id="step3-label" class="final">USD예금</span><span class="arrow">▼</span>
        <div class="dropdown-menu" id="menu3"></div>
      </div>
    </div>
  </div>
</div>

<script>
  const structure = {
    "외화예금": {
      "예금": ["USD예금", "JPY예금"],
      "적금": ["USD적금", "EUR적금"]
    },
    "기업": {
      "수입서류": ["인보이스", "포장명세서"],
      "수출서류": ["수출계약서"],
      "신용장": ["L/C 개설", "L/C 통지"]
    },
    "환전": {
      "환전상품1": ["소액환전", "중액환전"],
      "환전상품2": ["정기환전"]
    }
  };

  let currentStep1 = "외화예금";
  let currentStep2 = "예금";
  let currentStep3 = "USD예금";

  function toggleMenu(menuId) {
    document.querySelectorAll('.dropdown-menu').forEach(m => m.style.display = 'none');
    const menu = document.getElementById(menuId);
    if (menu.innerHTML === '') renderMenu(menuId);
    menu.style.display = 'block';
  }

  function renderMenu(id) {
    const menu = document.getElementById(id);
    menu.innerHTML = '';

    if (id === "menu1") {
      Object.keys(structure).filter(opt => opt !== currentStep1).forEach(option => {
        const a = document.createElement("a");
        a.textContent = option;
        a.onclick = () => selectStep1(option);
        menu.appendChild(a);
      });
    }

    if (id === "menu2") {
      Object.keys(structure[currentStep1]).filter(opt => opt !== currentStep2).forEach(option => {
        const a = document.createElement("a");
        a.textContent = option;
        a.onclick = () => selectStep2(option);
        menu.appendChild(a);
      });
    }

    if (id === "menu3") {
      structure[currentStep1][currentStep2].filter(opt => opt !== currentStep3).forEach(option => {
        const a = document.createElement("a");
        a.textContent = option;
        a.onclick = () => selectStep3(option);
        menu.appendChild(a);
      });
    }
  }

  function selectStep1(choice) {
    currentStep1 = choice;
    currentStep2 = Object.keys(structure[choice])[0];
    currentStep3 = structure[choice][currentStep2][0];
    document.getElementById("step1-label").textContent = currentStep1;
    document.getElementById("step2-label").textContent = currentStep2;
    updateStep3(currentStep3);
    renderMenu("menu1");
    renderMenu("menu2");
    renderMenu("menu3");
  }

  function selectStep2(choice) {
    currentStep2 = choice;
    currentStep3 = structure[currentStep1][currentStep2][0];
    document.getElementById("step2-label").textContent = currentStep2;
    updateStep3(currentStep3);
    renderMenu("menu2");
    renderMenu("menu3");
  }

  function selectStep3(choice) {
    currentStep3 = choice;
    updateStep3(currentStep3);
    renderMenu("menu3");
  }

  function updateStep3(text) {
    const step3 = document.getElementById("step3-label");
    step3.textContent = text;
    step3.classList.add("final");
  }

  window.onload = () => {
    renderMenu("menu1");
    renderMenu("menu2");
    renderMenu("menu3");
  };

  document.addEventListener('click', function (e) {
    if (!e.target.closest('.dropdown')) {
      document.querySelectorAll('.dropdown-menu').forEach(menu => {
        menu.style.display = 'none';
      });
    }
  });
</script>
</body>
</html>