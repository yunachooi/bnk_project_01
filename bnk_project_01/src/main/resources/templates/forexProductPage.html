<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8" />
  <title>BNK ONE 환전</title>
<link rel="stylesheet" th:href="@{/css/dictionary-button.css}" />
  <link rel="stylesheet" th:href="@{/css/common.css}" />
  <link rel="stylesheet" th:href="@{/css/forexProductPage.css}" />
</head>
<body>
<div th:replace="~{fragments/header2 :: header}"></div>

<!-- 비디오 영역 -->
<section class="video-section">
  <video class="background-video" src="/videos/ONE%20환전.mp4" autoplay muted loop playsinline></video>
  <div class="video-overlay">
    <video class="foreground-video" src="/videos/ONE%20환전.mp4" autoplay muted loop playsinline></video>
  </div>
</section>

<!-- 혜택 소개 -->
<section class="one-benefit-section">
  <div class="benefit-card">
    <span class="badge">ONE 하는 날에</span>
    <h2 class="main-title">365일 24시간</h2>
    <p class="desc">외화를 수령하고, 배달하며 금고보관까지 가능한 서비스</p>
  </div>

  <div class="benefit-card">
    <span class="badge">ONE 하는 분께</span>
    <h2 class="main-title">누구나 이용 가능</h2>
    <p class="desc">국내 거주 중인 개인 고객부터 기업 고객까지</p>
  </div>

  <div class="benefit-card">
    <span class="badge">ONE 하는 곳에</span>
    <h2 class="main-title">언제 어디서나</h2>
    <p class="desc">해외여행이든 출장지든 외화를 손쉽게 신청하고 수령 가능</p>
  </div>

  <div class="benefit-card">
    <span class="badge">여행을 ONE할 때</span>
    <h2 class="main-title">간편한 환전</h2>
    <p class="desc">USD, JPY, EUR, CNY 등 원하는 통화로</p>
  </div>
</section>

<!-- 📑 탭 메뉴 -->
<div class="tab-type2">
  <ul class="js-tabA">
    <li><a href="#" class="js-tab" data-target="tab-guide">이용안내</a></li>
    <li><a href="#" class="js-tab" data-target="tab-discount">우대내용</a></li>
    <li><a href="#" class="js-tab" data-target="tab-notice">유의사항</a></li>
  </ul>
  <div id="tabContentArea" class="tab-content"></div>
</div>

<div th:replace="fragments/dictionary-button :: dictionary-button"></div>
<div th:replace="~{fragments/footer :: footer}"></div>


<!-- 탭 토글 스크립트 -->
<script>
document.addEventListener("DOMContentLoaded", function () {
  const tabs = document.querySelectorAll(".js-tab");
  const tabContentArea = document.getElementById("tabContentArea");
  let activeTab = null;

  tabs.forEach(tab => {
    tab.addEventListener("click", function (e) {
      e.preventDefault();
      const target = tab.getAttribute("data-target");

      if (activeTab === target) {
    	  tab.classList.remove("active");
    	  tabContentArea.innerHTML = "";
    	  tabContentArea.style.display = "none";
    	  activeTab = null;
    	} else {
    	  tabs.forEach(t => t.classList.remove("active"));
    	  tab.classList.add("active");

    	  fetch(`/forex/${target}`)
    	    .then(res => res.text())
    	    .then(html => {
    	      tabContentArea.innerHTML = html;
    	      tabContentArea.style.display = "block";
    	      activeTab = target;
    	    })
    	    .catch(err => {
    	      console.error("탭 로딩 실패:", err);
    	      tabContentArea.innerHTML = "<p>내용을 불러오지 못했습니다.</p>";
    	      tabContentArea.style.display = "block";
    	      activeTab = target;
    	    });
    	}
    });
  });
});
</script>

</body>
</html>